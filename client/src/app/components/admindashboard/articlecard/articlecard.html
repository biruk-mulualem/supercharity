<div class="upload-section">
  <h2>Manage Articles</h2>

  <!-- Controls -->
  <div class="controls">
    <input
      type="text"
      class="search-input"
      placeholder="Search articles..."
      [(ngModel)]="searchTerm"
    />
    <button class="upload-btn" (click)="openAddModal()">+ Add Article</button>
  </div>

  <!-- Articles Table -->
  <table>
    <thead>
      <tr>
        <th>Id</th>
        <th>Title</th>
        <th>Description</th>
        <th>Tag</th>
        <th>Writer</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
<tr *ngFor="let article of paginatedArticles()">
  <td>{{ article.id }}</td>
  
  <td [title]="article.title">
    {{ truncateWords(article.title, 12) }}
  </td>
  
  <td [title]="article.description">
    {{ truncateWords(article.description, 12) }}
  </td>
  
  <td [title]="article.tag">
    {{ truncateWords(article.tag, 12) }}
  </td>
  
  <td [title]="article.writer">
    {{ truncateWords(article.writer, 12) }}
  </td>
  
  <td class="actions">
    <button class="edit-btn" (click)="openEditModal(article)">Edit</button>
    <button class="delete-btn" (click)="openDeleteModal(article)">Delete</button>
  </td>
</tr>


    </tbody>
  </table>

  <!-- Pagination -->
  <div class="pagination">
    <button (click)="prevPage()" [disabled]="currentPage === 1">Prev</button>
    <span>Page {{ currentPage }} of {{ totalPages() }}</span>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages()">Next</button>
  </div>
</div>
<!-- Add Article Modal -->
<div class="modal" *ngIf="isAddModalOpen" (click)="closeAddModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h3>Add Article</h3>

    <div class="form-group">
      <label>Title</label>
      <input type="text" [(ngModel)]="newArticle.title" placeholder="Enter title" />
    </div>

    <div class="form-group">
      <label>Description</label>
      <textarea [(ngModel)]="newArticle.description" placeholder="Enter description"></textarea>
    </div>

    <div class="form-group">
      <label>Tag</label>
      <input type="text" [(ngModel)]="newArticle.tag" placeholder="Enter tag" />
    </div>

    <div class="form-group">
      <label>Writer</label>
      <input type="text" [(ngModel)]="newArticle.writer" placeholder="Enter writer" />
    </div>

    <div class="modal-actions">
      <button (click)="addArticle()">Save</button>
      <button (click)="closeAddModal()">Cancel</button>
    </div>
  </div>
</div>

<!-- Edit Article Modal -->
<div class="modal" *ngIf="isEditModalOpen" (click)="closeEditModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h3>Edit Article</h3>

    <div class="form-group">
      <label>Title</label>
       <textarea [(ngModel)]="selectedArticle.title"></textarea>
     
    </div>

    <div class="form-group">
      <label>Description</label>
      <textarea [(ngModel)]="selectedArticle.description"></textarea>
    </div>

    <div class="form-group">
      <label>Tag</label>
         <textarea [(ngModel)]="selectedArticle.tag"></textarea>
      
    </div>

    <div class="form-group">
      <label>Writer</label>
     
       <textarea [(ngModel)]="selectedArticle.writer"></textarea>
    </div>

    <div class="modal-actions">
      <button (click)="updateArticle()">Update</button>
      <button (click)="closeEditModal()">Cancel</button>
    </div>
  </div>
</div>

<!-- Delete Confirmation Modal -->
<div class="modal" *ngIf="isDeleteModalOpen" (click)="closeDeleteModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h3>Delete Article</h3>
    <p>Are you sure you want to delete <b>{{ selectedArticle?.title }}</b>?</p>

    <div class="modal-actions">
      <button class="delete-btn" (click)="confirmDelete()">Yes, Delete</button>
      <button (click)="closeDeleteModal()">Cancel</button>
    </div>
  </div>
</div>

